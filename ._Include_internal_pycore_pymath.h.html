
<html>
<meta charset="utf-8" />
<head>
<title>pycore_pymath.h</title>
<link rel="icon" type="image/png" href="assets/favicon.ico"/>
<link rel='stylesheet' type='text/css' href='assets/style.css'>
<link rel='stylesheet' type='text/css' href='https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css'>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
</head>
<body>
<h1 class="filename-title">/home/ofek/src/cpython/Include/internal/pycore_pymath.h</h1>
<h3>3 issue types:</h3>
<ul id='entries_summary'>
<li>inline: 3
<li>gvn: 3
<li>slp-vectorizer: 2
</ul>
<p><a class='back' href='index.html'>Back</a></p>
<table id="opt_table_code" class="" width="100%"></table>
<p><a class='back' href='index.html'>Back</a></p>

<script type="text/javascript">
var dataSet = [["<a name=\"L1\">1</a>", "", "", "<div class=\"highlight\"><pre><span></span><span class=\"cp\">#ifndef Py_INTERNAL_PYMATH_H</span></pre></div>", ""], ["<a name=\"L2\">2</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define Py_INTERNAL_PYMATH_H</span></pre></div>", ""], ["<a name=\"L3\">3</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#ifdef __cplusplus</span></pre></div>", ""], ["<a name=\"L4\">4</a>", "", "", "<div class=\"highlight\"><pre><span class=\"k\">extern</span> <span class=\"s\">&quot;C&quot;</span> <span class=\"p\">{</span></pre></div>", ""], ["<a name=\"L5\">5</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#endif</span></pre></div>", ""], ["<a name=\"L6\">6</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L7\">7</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#ifndef Py_BUILD_CORE</span></pre></div>", ""], ["<a name=\"L8\">8</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#  error &quot;this header requires Py_BUILD_CORE define&quot;</span></pre></div>", ""], ["<a name=\"L9\">9</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#endif</span></pre></div>", ""], ["<a name=\"L10\">10</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L11\">11</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L12\">12</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\">/* _Py_ADJUST_ERANGE1(x)</span></pre></div>", ""], ["<a name=\"L13\">13</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> * _Py_ADJUST_ERANGE2(x, y)</span></pre></div>", ""], ["<a name=\"L14\">14</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> * Set errno to 0 before calling a libm function, and invoke one of these</span></pre></div>", ""], ["<a name=\"L15\">15</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> * macros after, passing the function result(s) (_Py_ADJUST_ERANGE2 is useful</span></pre></div>", ""], ["<a name=\"L16\">16</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> * for functions returning complex results).  This makes two kinds of</span></pre></div>", ""], ["<a name=\"L17\">17</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> * adjustments to errno:  (A) If it looks like the platform libm set</span></pre></div>", ""], ["<a name=\"L18\">18</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> * errno=ERANGE due to underflow, clear errno. (B) If it looks like the</span></pre></div>", ""], ["<a name=\"L19\">19</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> * platform libm overflowed but didn&#39;t set errno, force errno to ERANGE.  In</span></pre></div>", ""], ["<a name=\"L20\">20</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> * effect, we&#39;re trying to force a useful implementation of C89 errno</span></pre></div>", ""], ["<a name=\"L21\">21</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> * behavior.</span></pre></div>", ""], ["<a name=\"L22\">22</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> * Caution:</span></pre></div>", ""], ["<a name=\"L23\">23</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> *    This isn&#39;t reliable.  C99 no longer requires libm to set errno under</span></pre></div>", ""], ["<a name=\"L24\">24</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> *        any exceptional condition, but does require +- HUGE_VAL return</span></pre></div>", ""], ["<a name=\"L25\">25</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> *        values on overflow.  A 754 box *probably* maps HUGE_VAL to a</span></pre></div>", ""], ["<a name=\"L26\">26</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> *        double infinity, and we&#39;re cool if that&#39;s so, unless the input</span></pre></div>", ""], ["<a name=\"L27\">27</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> *        was an infinity and an infinity is the expected result.  A C89</span></pre></div>", ""], ["<a name=\"L28\">28</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> *        system sets errno to ERANGE, so we check for that too.  We&#39;re</span></pre></div>", ""], ["<a name=\"L29\">29</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> *        out of luck if a C99 754 box doesn&#39;t map HUGE_VAL to +Inf, or</span></pre></div>", ""], ["<a name=\"L30\">30</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> *        if the returned result is a NaN, or if a C89 box returns HUGE_VAL</span></pre></div>", ""], ["<a name=\"L31\">31</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> *        in non-overflow cases.</span></pre></div>", ""], ["<a name=\"L32\">32</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cm\"> */</span></pre></div>", ""], ["<a name=\"L33\">33</a>", "", "", "<div class=\"highlight\"><pre><span class=\"k\">static</span> <span class=\"kr\">inline</span> <span class=\"kt\">void</span> <span class=\"n\">_Py_ADJUST_ERANGE1</span><span class=\"p\">(</span><span class=\"kt\">double</span> <span class=\"n\">x</span><span class=\"p\">)</span></pre></div>", ""], ["<a name=\"L34\">34</a>", "", "", "<div class=\"highlight\"><pre><span class=\"p\">{</span></pre></div>", ""], ["<a name=\"L35\">35</a>", "", "", "<div class=\"highlight\"><pre>    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">errno</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span></pre></div>", ""], ["", "0.01%", {"class": "column-entry-red", "text": "inline"}, {"class": "column-entry-yellow", "text": "<span style=\"margin-left: 6ch;\" class=\"indent-span\">&bull;  __errno_location will not be inlined into _Py_ADJUST_ERANGE1 because its definition is unavailable&nbsp;</span>"}, {"class": "column-entry-yellow", "text": "_Py_ADJUST_ERANGE1"}], ["", "0.01%", {"class": "column-entry-red", "text": "gvn"}, {"class": "column-entry-yellow", "text": "<span style=\"margin-left: 6ch;\" class=\"indent-span\">&bull;  load of type i32 not eliminated in favor of <a href=\"Objects_floatobject.c.html#L824\">store</a> because it is clobbered by <a href=\"Objects_floatobject.c.html#L825\">call</a>&nbsp;</span>"}, {"class": "column-entry-yellow", "text": "float_pow"}], ["<a name=\"L36\">36</a>", "", "", "<div class=\"highlight\"><pre>        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">x</span> <span class=\"o\">==</span> <span class=\"n\">Py_HUGE_VAL</span> <span class=\"o\">||</span> <span class=\"n\">x</span> <span class=\"o\">==</span> <span class=\"o\">-</span><span class=\"n\">Py_HUGE_VAL</span><span class=\"p\">)</span> <span class=\"p\">{</span></pre></div>", ""], ["", "0.01%", {"class": "column-entry-red", "text": "slp-vectorizer"}, {"class": "column-entry-yellow", "text": "<span style=\"margin-left: 10ch;\" class=\"indent-span\">&bull;  List vectorization was possible but not beneficial with cost 0 >= 0&nbsp;</span>"}, {"class": "column-entry-yellow", "text": "float_pow"}], ["<a name=\"L37\">37</a>", "", "", "<div class=\"highlight\"><pre>            <span class=\"n\">errno</span> <span class=\"o\">=</span> <span class=\"n\">ERANGE</span><span class=\"p\">;</span></pre></div>", ""], ["<a name=\"L38\">38</a>", "", "", "<div class=\"highlight\"><pre>        <span class=\"p\">}</span></pre></div>", ""], ["<a name=\"L39\">39</a>", "", "", "<div class=\"highlight\"><pre>    <span class=\"p\">}</span></pre></div>", ""], ["<a name=\"L40\">40</a>", "", "", "<div class=\"highlight\"><pre>    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">errno</span> <span class=\"o\">==</span> <span class=\"n\">ERANGE</span> <span class=\"o\">&amp;&amp;</span> <span class=\"n\">x</span> <span class=\"o\">==</span> <span class=\"mf\">0.0</span><span class=\"p\">)</span> <span class=\"p\">{</span></pre></div>", ""], ["<a name=\"L41\">41</a>", "", "", "<div class=\"highlight\"><pre>        <span class=\"n\">errno</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span></pre></div>", ""], ["<a name=\"L42\">42</a>", "", "", "<div class=\"highlight\"><pre>    <span class=\"p\">}</span></pre></div>", ""], ["<a name=\"L43\">43</a>", "", "", "<div class=\"highlight\"><pre><span class=\"p\">}</span></pre></div>", ""], ["<a name=\"L44\">44</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L45\">45</a>", "", "", "<div class=\"highlight\"><pre><span class=\"k\">static</span> <span class=\"kr\">inline</span> <span class=\"kt\">void</span> <span class=\"n\">_Py_ADJUST_ERANGE2</span><span class=\"p\">(</span><span class=\"kt\">double</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"kt\">double</span> <span class=\"n\">y</span><span class=\"p\">)</span></pre></div>", ""], ["<a name=\"L46\">46</a>", "", "", "<div class=\"highlight\"><pre><span class=\"p\">{</span></pre></div>", ""], ["<a name=\"L47\">47</a>", "", "", "<div class=\"highlight\"><pre>    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">x</span> <span class=\"o\">==</span> <span class=\"n\">Py_HUGE_VAL</span> <span class=\"o\">||</span> <span class=\"n\">x</span> <span class=\"o\">==</span> <span class=\"o\">-</span><span class=\"n\">Py_HUGE_VAL</span> <span class=\"o\">||</span></pre></div>", ""], ["", "0.00%", {"class": "column-entry-red", "text": "slp-vectorizer"}, {"class": "column-entry-yellow", "text": "<span style=\"margin-left: 6ch;\" class=\"indent-span\">&bull;  List vectorization was possible but not beneficial with cost 0 >= 0&nbsp;</span>"}, {"class": "column-entry-yellow", "text": "complex_pow"}], ["<a name=\"L48\">48</a>", "", "", "<div class=\"highlight\"><pre>        <span class=\"n\">y</span> <span class=\"o\">==</span> <span class=\"n\">Py_HUGE_VAL</span> <span class=\"o\">||</span> <span class=\"n\">y</span> <span class=\"o\">==</span> <span class=\"o\">-</span><span class=\"n\">Py_HUGE_VAL</span><span class=\"p\">)</span></pre></div>", ""], ["<a name=\"L49\">49</a>", "", "", "<div class=\"highlight\"><pre>    <span class=\"p\">{</span></pre></div>", ""], ["<a name=\"L50\">50</a>", "", "", "<div class=\"highlight\"><pre>        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">errno</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span></pre></div>", ""], ["", "0.00%", {"class": "column-entry-red", "text": "inline"}, {"class": "column-entry-yellow", "text": "<span style=\"margin-left: 10ch;\" class=\"indent-span\">&bull;  __errno_location will not be inlined into _Py_ADJUST_ERANGE2 because its definition is unavailable&nbsp;</span>"}, {"class": "column-entry-yellow", "text": "_Py_ADJUST_ERANGE2"}], ["", "0.00%", {"class": "column-entry-red", "text": "gvn"}, {"class": "column-entry-yellow", "text": "<span style=\"margin-left: 10ch;\" class=\"indent-span\">&bull;  load of type i32 not eliminated in favor of <a href=\"Objects_complexobject.c.html#L519\">store</a> because it is clobbered by <a href=\"Objects_complexobject.c.html#L526\">call</a>&nbsp;</span>"}, {"class": "column-entry-yellow", "text": "complex_pow"}], ["<a name=\"L51\">51</a>", "", "", "<div class=\"highlight\"><pre>            <span class=\"n\">errno</span> <span class=\"o\">=</span> <span class=\"n\">ERANGE</span><span class=\"p\">;</span></pre></div>", ""], ["<a name=\"L52\">52</a>", "", "", "<div class=\"highlight\"><pre>        <span class=\"p\">}</span></pre></div>", ""], ["<a name=\"L53\">53</a>", "", "", "<div class=\"highlight\"><pre>    <span class=\"p\">}</span></pre></div>", ""], ["<a name=\"L54\">54</a>", "", "", "<div class=\"highlight\"><pre>    <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">errno</span> <span class=\"o\">==</span> <span class=\"n\">ERANGE</span><span class=\"p\">)</span> <span class=\"p\">{</span></pre></div>", ""], ["", "0.00%", {"class": "column-entry-red", "text": "inline"}, {"class": "column-entry-yellow", "text": "<span style=\"margin-left: 6ch;\" class=\"indent-span\">&bull;  __errno_location will not be inlined into _Py_ADJUST_ERANGE2 because its definition is unavailable&nbsp;</span>"}, {"class": "column-entry-yellow", "text": "_Py_ADJUST_ERANGE2"}], ["", "0.00%", {"class": "column-entry-red", "text": "gvn"}, {"class": "column-entry-yellow", "text": "<span style=\"margin-left: 6ch;\" class=\"indent-span\">&bull;  load of type i32 not eliminated in favor of <a href=\"Objects_complexobject.c.html#L519\">store</a> because it is clobbered by <a href=\"Objects_complexobject.c.html#L526\">call</a>&nbsp;</span>"}, {"class": "column-entry-yellow", "text": "complex_pow"}], ["<a name=\"L55\">55</a>", "", "", "<div class=\"highlight\"><pre>        <span class=\"n\">errno</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span></pre></div>", ""], ["<a name=\"L56\">56</a>", "", "", "<div class=\"highlight\"><pre>    <span class=\"p\">}</span></pre></div>", ""], ["<a name=\"L57\">57</a>", "", "", "<div class=\"highlight\"><pre><span class=\"p\">}</span></pre></div>", ""], ["<a name=\"L58\">58</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L59\">59</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// Return whether integral type *type* is signed or not.</span></pre></div>", ""], ["<a name=\"L60\">60</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define _Py_IntegralTypeSigned(type) \\</span></pre></div>", ""], ["<a name=\"L61\">61</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    ((type)(-1) &lt; 0)</span></pre></div>", ""], ["<a name=\"L62\">62</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L63\">63</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// Return the maximum value of integral type *type*.</span></pre></div>", ""], ["<a name=\"L64\">64</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define _Py_IntegralTypeMax(type) \\</span></pre></div>", ""], ["<a name=\"L65\">65</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    ((_Py_IntegralTypeSigned(type)) ? (((((type)1 &lt;&lt; (sizeof(type)*CHAR_BIT - 2)) - 1) &lt;&lt; 1) + 1) : ~(type)0)</span></pre></div>", ""], ["<a name=\"L66\">66</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L67\">67</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// Return the minimum value of integral type *type*.</span></pre></div>", ""], ["<a name=\"L68\">68</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define _Py_IntegralTypeMin(type) \\</span></pre></div>", ""], ["<a name=\"L69\">69</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    ((_Py_IntegralTypeSigned(type)) ? -_Py_IntegralTypeMax(type) - 1 : 0)</span></pre></div>", ""], ["<a name=\"L70\">70</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L71\">71</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// Check whether *v* is in the range of integral type *type*. This is most</span></pre></div>", ""], ["<a name=\"L72\">72</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// useful if *v* is floating-point, since demoting a floating-point *v* to an</span></pre></div>", ""], ["<a name=\"L73\">73</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// integral type that cannot represent *v*&#39;s integral part is undefined</span></pre></div>", ""], ["<a name=\"L74\">74</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// behavior.</span></pre></div>", ""], ["<a name=\"L75\">75</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define _Py_InIntegralTypeRange(type, v) \\</span></pre></div>", ""], ["<a name=\"L76\">76</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    (_Py_IntegralTypeMin(type) &lt;= v &amp;&amp; v &lt;= _Py_IntegralTypeMax(type))</span></pre></div>", ""], ["<a name=\"L77\">77</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L78\">78</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L79\">79</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//--- HAVE_PY_SET_53BIT_PRECISION macro ------------------------------------</span></pre></div>", ""], ["<a name=\"L80\">80</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//</span></pre></div>", ""], ["<a name=\"L81\">81</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// The functions _Py_dg_strtod() and _Py_dg_dtoa() in Python/dtoa.c (which are</span></pre></div>", ""], ["<a name=\"L82\">82</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// required to support the short float repr introduced in Python 3.1) require</span></pre></div>", ""], ["<a name=\"L83\">83</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// that the floating-point unit that&#39;s being used for arithmetic operations on</span></pre></div>", ""], ["<a name=\"L84\">84</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// C doubles is set to use 53-bit precision.  It also requires that the FPU</span></pre></div>", ""], ["<a name=\"L85\">85</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// rounding mode is round-half-to-even, but that&#39;s less often an issue.</span></pre></div>", ""], ["<a name=\"L86\">86</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//</span></pre></div>", ""], ["<a name=\"L87\">87</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// If your FPU isn&#39;t already set to 53-bit precision/round-half-to-even, and</span></pre></div>", ""], ["<a name=\"L88\">88</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// you want to make use of _Py_dg_strtod() and _Py_dg_dtoa(), then you should:</span></pre></div>", ""], ["<a name=\"L89\">89</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//</span></pre></div>", ""], ["<a name=\"L90\">90</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//     #define HAVE_PY_SET_53BIT_PRECISION 1</span></pre></div>", ""], ["<a name=\"L91\">91</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//</span></pre></div>", ""], ["<a name=\"L92\">92</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// and also give appropriate definitions for the following three macros:</span></pre></div>", ""], ["<a name=\"L93\">93</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//</span></pre></div>", ""], ["<a name=\"L94\">94</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// * _Py_SET_53BIT_PRECISION_HEADER: any variable declarations needed to</span></pre></div>", ""], ["<a name=\"L95\">95</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//   use the two macros below.</span></pre></div>", ""], ["<a name=\"L96\">96</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// * _Py_SET_53BIT_PRECISION_START: store original FPU settings, and</span></pre></div>", ""], ["<a name=\"L97\">97</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//   set FPU to 53-bit precision/round-half-to-even</span></pre></div>", ""], ["<a name=\"L98\">98</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// * _Py_SET_53BIT_PRECISION_END: restore original FPU settings</span></pre></div>", ""], ["<a name=\"L99\">99</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//</span></pre></div>", ""], ["<a name=\"L100\">100</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// The macros are designed to be used within a single C function: see</span></pre></div>", ""], ["<a name=\"L101\">101</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// Python/pystrtod.c for an example of their use.</span></pre></div>", ""], ["<a name=\"L102\">102</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L103\">103</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L104\">104</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// Get and set x87 control word for gcc/x86</span></pre></div>", ""], ["<a name=\"L105\">105</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#ifdef HAVE_GCC_ASM_FOR_X87</span></pre></div>", ""], ["<a name=\"L106\">106</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define HAVE_PY_SET_53BIT_PRECISION 1</span></pre></div>", ""], ["<a name=\"L107\">107</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L108\">108</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// Functions defined in Python/pymath.c</span></pre></div>", ""], ["<a name=\"L109\">109</a>", "", "", "<div class=\"highlight\"><pre><span class=\"k\">extern</span> <span class=\"kt\">unsigned</span> <span class=\"kt\">short</span> <span class=\"n\">_Py_get_387controlword</span><span class=\"p\">(</span><span class=\"kt\">void</span><span class=\"p\">);</span></pre></div>", ""], ["<a name=\"L110\">110</a>", "", "", "<div class=\"highlight\"><pre><span class=\"k\">extern</span> <span class=\"kt\">void</span> <span class=\"nf\">_Py_set_387controlword</span><span class=\"p\">(</span><span class=\"kt\">unsigned</span> <span class=\"kt\">short</span><span class=\"p\">);</span></pre></div>", ""], ["<a name=\"L111\">111</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L112\">112</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define _Py_SET_53BIT_PRECISION_HEADER                                  \\</span></pre></div>", ""], ["<a name=\"L113\">113</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    unsigned short old_387controlword, new_387controlword</span></pre></div>", ""], ["<a name=\"L114\">114</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define _Py_SET_53BIT_PRECISION_START                                   \\</span></pre></div>", ""], ["<a name=\"L115\">115</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    do {                                                                \\</span></pre></div>", ""], ["<a name=\"L116\">116</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        old_387controlword = _Py_get_387controlword();                  \\</span></pre></div>", ""], ["<a name=\"L117\">117</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        new_387controlword = (old_387controlword &amp; ~0x0f00) | 0x0200;   \\</span></pre></div>", ""], ["<a name=\"L118\">118</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        if (new_387controlword != old_387controlword) {                 \\</span></pre></div>", ""], ["<a name=\"L119\">119</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">            _Py_set_387controlword(new_387controlword);                 \\</span></pre></div>", ""], ["<a name=\"L120\">120</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        }                                                               \\</span></pre></div>", ""], ["<a name=\"L121\">121</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    } while (0)</span></pre></div>", ""], ["<a name=\"L122\">122</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define _Py_SET_53BIT_PRECISION_END                                     \\</span></pre></div>", ""], ["<a name=\"L123\">123</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    do {                                                                \\</span></pre></div>", ""], ["<a name=\"L124\">124</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        if (new_387controlword != old_387controlword) {                 \\</span></pre></div>", ""], ["<a name=\"L125\">125</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">            _Py_set_387controlword(old_387controlword);                 \\</span></pre></div>", ""], ["<a name=\"L126\">126</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        }                                                               \\</span></pre></div>", ""], ["<a name=\"L127\">127</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    } while (0)</span></pre></div>", ""], ["<a name=\"L128\">128</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#endif</span></pre></div>", ""], ["<a name=\"L129\">129</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L130\">130</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// Get and set x87 control word for VisualStudio/x86.</span></pre></div>", ""], ["<a name=\"L131\">131</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// x87 is not supported in 64-bit or ARM.</span></pre></div>", ""], ["<a name=\"L132\">132</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#if defined(_MSC_VER) &amp;&amp; !defined(_WIN64) &amp;&amp; !defined(_M_ARM)</span></pre></div>", ""], ["<a name=\"L133\">133</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define HAVE_PY_SET_53BIT_PRECISION 1</span></pre></div>", ""], ["<a name=\"L134\">134</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L135\">135</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#include</span> <span class=\"cpf\">&lt;float.h&gt;                // __control87_2()</span><span class=\"cp\"></span></pre></div>", ""], ["<a name=\"L136\">136</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L137\">137</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define _Py_SET_53BIT_PRECISION_HEADER \\</span></pre></div>", ""], ["<a name=\"L138\">138</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    unsigned int old_387controlword, new_387controlword, out_387controlword</span></pre></div>", ""], ["<a name=\"L139\">139</a>", "", "", "<div class=\"highlight\"><pre>    <span class=\"c1\">// We use the __control87_2 function to set only the x87 control word.</span></pre></div>", ""], ["<a name=\"L140\">140</a>", "", "", "<div class=\"highlight\"><pre>    <span class=\"c1\">// The SSE control word is unaffected.</span></pre></div>", ""], ["<a name=\"L141\">141</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define _Py_SET_53BIT_PRECISION_START                                   \\</span></pre></div>", ""], ["<a name=\"L142\">142</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    do {                                                                \\</span></pre></div>", ""], ["<a name=\"L143\">143</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        __control87_2(0, 0, &amp;old_387controlword, NULL);                 \\</span></pre></div>", ""], ["<a name=\"L144\">144</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        new_387controlword =                                            \\</span></pre></div>", ""], ["<a name=\"L145\">145</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">          (old_387controlword &amp; ~(_MCW_PC | _MCW_RC)) | (_PC_53 | _RC_NEAR); \\</span></pre></div>", ""], ["<a name=\"L146\">146</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        if (new_387controlword != old_387controlword) {                 \\</span></pre></div>", ""], ["<a name=\"L147\">147</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">            __control87_2(new_387controlword, _MCW_PC | _MCW_RC,        \\</span></pre></div>", ""], ["<a name=\"L148\">148</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">                          &amp;out_387controlword, NULL);                   \\</span></pre></div>", ""], ["<a name=\"L149\">149</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        }                                                               \\</span></pre></div>", ""], ["<a name=\"L150\">150</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    } while (0)</span></pre></div>", ""], ["<a name=\"L151\">151</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define _Py_SET_53BIT_PRECISION_END                                     \\</span></pre></div>", ""], ["<a name=\"L152\">152</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    do {                                                                \\</span></pre></div>", ""], ["<a name=\"L153\">153</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        if (new_387controlword != old_387controlword) {                 \\</span></pre></div>", ""], ["<a name=\"L154\">154</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">            __control87_2(old_387controlword, _MCW_PC | _MCW_RC,        \\</span></pre></div>", ""], ["<a name=\"L155\">155</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">                          &amp;out_387controlword, NULL);                   \\</span></pre></div>", ""], ["<a name=\"L156\">156</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        }                                                               \\</span></pre></div>", ""], ["<a name=\"L157\">157</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    } while (0)</span></pre></div>", ""], ["<a name=\"L158\">158</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#endif</span></pre></div>", ""], ["<a name=\"L159\">159</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L160\">160</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L161\">161</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// MC68881</span></pre></div>", ""], ["<a name=\"L162\">162</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#ifdef HAVE_GCC_ASM_FOR_MC68881</span></pre></div>", ""], ["<a name=\"L163\">163</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define HAVE_PY_SET_53BIT_PRECISION 1</span></pre></div>", ""], ["<a name=\"L164\">164</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define _Py_SET_53BIT_PRECISION_HEADER \\</span></pre></div>", ""], ["<a name=\"L165\">165</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    unsigned int old_fpcr, new_fpcr</span></pre></div>", ""], ["<a name=\"L166\">166</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define _Py_SET_53BIT_PRECISION_START                                   \\</span></pre></div>", ""], ["<a name=\"L167\">167</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    do {                                                                \\</span></pre></div>", ""], ["<a name=\"L168\">168</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        __asm__ (&quot;fmove.l %%fpcr,%0&quot; : &quot;=g&quot; (old_fpcr));                \\</span></pre></div>", ""], ["<a name=\"L169\">169</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        </span><span class=\"cm\">/* Set double precision / round to nearest.  */</span><span class=\"cp\">                 \\</span></pre></div>", ""], ["<a name=\"L170\">170</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        new_fpcr = (old_fpcr &amp; ~0xf0) | 0x80;                           \\</span></pre></div>", ""], ["<a name=\"L171\">171</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        if (new_fpcr != old_fpcr) {                                     \\</span></pre></div>", ""], ["<a name=\"L172\">172</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">              __asm__ volatile (&quot;fmove.l %0,%%fpcr&quot; : : &quot;g&quot; (new_fpcr));\\</span></pre></div>", ""], ["<a name=\"L173\">173</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        }                                                               \\</span></pre></div>", ""], ["<a name=\"L174\">174</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    } while (0)</span></pre></div>", ""], ["<a name=\"L175\">175</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#define _Py_SET_53BIT_PRECISION_END                                     \\</span></pre></div>", ""], ["<a name=\"L176\">176</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    do {                                                                \\</span></pre></div>", ""], ["<a name=\"L177\">177</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        if (new_fpcr != old_fpcr) {                                     \\</span></pre></div>", ""], ["<a name=\"L178\">178</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">            __asm__ volatile (&quot;fmove.l %0,%%fpcr&quot; : : &quot;g&quot; (old_fpcr));  \\</span></pre></div>", ""], ["<a name=\"L179\">179</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">        }                                                               \\</span></pre></div>", ""], ["<a name=\"L180\">180</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    } while (0)</span></pre></div>", ""], ["<a name=\"L181\">181</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#endif</span></pre></div>", ""], ["<a name=\"L182\">182</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L183\">183</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// Default definitions are empty</span></pre></div>", ""], ["<a name=\"L184\">184</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#ifndef _Py_SET_53BIT_PRECISION_HEADER</span></pre></div>", ""], ["<a name=\"L185\">185</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#  define _Py_SET_53BIT_PRECISION_HEADER</span></pre></div>", ""], ["<a name=\"L186\">186</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#  define _Py_SET_53BIT_PRECISION_START</span></pre></div>", ""], ["<a name=\"L187\">187</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#  define _Py_SET_53BIT_PRECISION_END</span></pre></div>", ""], ["<a name=\"L188\">188</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#endif</span></pre></div>", ""], ["<a name=\"L189\">189</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L190\">190</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L191\">191</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//--- _PY_SHORT_FLOAT_REPR macro -------------------------------------------</span></pre></div>", ""], ["<a name=\"L192\">192</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L193\">193</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// If we can&#39;t guarantee 53-bit precision, don&#39;t use the code</span></pre></div>", ""], ["<a name=\"L194\">194</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// in Python/dtoa.c, but fall back to standard code.  This</span></pre></div>", ""], ["<a name=\"L195\">195</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// means that repr of a float will be long (17 significant digits).</span></pre></div>", ""], ["<a name=\"L196\">196</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//</span></pre></div>", ""], ["<a name=\"L197\">197</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// Realistically, there are two things that could go wrong:</span></pre></div>", ""], ["<a name=\"L198\">198</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//</span></pre></div>", ""], ["<a name=\"L199\">199</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// (1) doubles aren&#39;t IEEE 754 doubles, or</span></pre></div>", ""], ["<a name=\"L200\">200</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// (2) we&#39;re on x86 with the rounding precision set to 64-bits</span></pre></div>", ""], ["<a name=\"L201\">201</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//     (extended precision), and we don&#39;t know how to change</span></pre></div>", ""], ["<a name=\"L202\">202</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">//     the rounding precision.</span></pre></div>", ""], ["<a name=\"L203\">203</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#if !defined(DOUBLE_IS_LITTLE_ENDIAN_IEEE754) &amp;&amp; \\</span></pre></div>", ""], ["<a name=\"L204\">204</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    !defined(DOUBLE_IS_BIG_ENDIAN_IEEE754) &amp;&amp; \\</span></pre></div>", ""], ["<a name=\"L205\">205</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">    !defined(DOUBLE_IS_ARM_MIXED_ENDIAN_IEEE754)</span></pre></div>", ""], ["<a name=\"L206\">206</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#  define _PY_SHORT_FLOAT_REPR 0</span></pre></div>", ""], ["<a name=\"L207\">207</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#endif</span></pre></div>", ""], ["<a name=\"L208\">208</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L209\">209</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// Double rounding is symptomatic of use of extended precision on x86.</span></pre></div>", ""], ["<a name=\"L210\">210</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// If we&#39;re seeing double rounding, and we don&#39;t have any mechanism available</span></pre></div>", ""], ["<a name=\"L211\">211</a>", "", "", "<div class=\"highlight\"><pre><span class=\"c1\">// for changing the FPU rounding precision, then don&#39;t use Python/dtoa.c.</span></pre></div>", ""], ["<a name=\"L212\">212</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#if defined(X87_DOUBLE_ROUNDING) &amp;&amp; !defined(HAVE_PY_SET_53BIT_PRECISION)</span></pre></div>", ""], ["<a name=\"L213\">213</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#  define _PY_SHORT_FLOAT_REPR 0</span></pre></div>", ""], ["<a name=\"L214\">214</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#endif</span></pre></div>", ""], ["<a name=\"L215\">215</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L216\">216</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#ifndef _PY_SHORT_FLOAT_REPR</span></pre></div>", ""], ["<a name=\"L217\">217</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#  define _PY_SHORT_FLOAT_REPR 1</span></pre></div>", ""], ["<a name=\"L218\">218</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#endif</span></pre></div>", ""], ["<a name=\"L219\">219</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L220\">220</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L221\">221</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#ifdef __cplusplus</span></pre></div>", ""], ["<a name=\"L222\">222</a>", "", "", "<div class=\"highlight\"><pre><span class=\"p\">}</span></pre></div>", ""], ["<a name=\"L223\">223</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#endif</span></pre></div>", ""], ["<a name=\"L224\">224</a>", "", "", "<div class=\"highlight\"><pre><span class=\"cp\">#endif </span><span class=\"cm\">/* !Py_INTERNAL_PYMATH_H */</span><span class=\"cp\"></span></pre></div>", ""], ["<a name=\"L225\">225</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""], ["<a name=\"L226\">226</a>", "", "", "<div class=\"highlight\"><pre></pre></div>", ""]];

function toggleExpandedMessage(e) {
  var FullTextElems = e.parentElement.parentElement.getElementsByClassName("full-info");
  if (!FullTextElems || FullTextElems.length < 1) {
      return false;
  }
  var FullText = FullTextElems[0];
  if (FullText.style.display == 'none') {
    e.innerHTML = '-';
    FullText.style.display = 'block';
  } else {
    e.innerHTML = '+';
    FullText.style.display = 'none';
  }
}

$(document).ready(function() {
    $('#opt_table_code').DataTable( {
        data: dataSet,
        paging: false,
        "ordering": false,
        "asStripeClasses": [],
        columns: [
            { title: "Line" },
            { title: "Hotness" },
            { title: "Optimization" },
            { title: "Source" },
            { title: "Inline Context" }
        ],
        columnDefs: [
            {
                "targets": "_all",
                "createdCell": function (td, data, rowData, row, col) {
                    if (data.constructor == Object && data['class'] !== undefined) {
                        $(td).addClass(data['class']);
                    }
                },
                "render": function(data, type, row) {
                    if (data.constructor == Object && data['text'] !== undefined) {
                        return data['text'];
                    }
                    return data;
                }
            }
        ]
    } );
    if (location.hash.length > 2) {
        var loc = location.hash.split("#")[1];
        var aTag = $("a[name='" + loc + "']");
        if (aTag.length > 0) {
            $('body').scrollTop(parseInt(aTag.offset().top));
        }
    }
} );
</script>
</body>
</html>
